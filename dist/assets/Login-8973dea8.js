import{f as x,k as f,b as h,l as g,n as b,o as c,r as o,B as m,j as e,m as j}from"./index-31f147d6.js";const N=()=>{const{user:r}=x(i=>i.auth),[u,{data:y,isSuccess:l,isLoading:n,isError:d,error:t}]=f(),a=h(),s=g({initialValues:{email:"",password:""},validationSchema:b({email:c().email("Invalid email format").required("Enter email"),password:c().required("Enter password")}),onSubmit:(i,{resetForm:p})=>{u(i),p()}});return o.useEffect(()=>{l&&(m.success("User login successful"),r.role==="admin"?a("/admin"):r.role==="customer"&&a("/"))},[l]),o.useEffect(()=>{d&&m.error((t==null?void 0:t.message)||"Unable to login user")},[d]),o.useEffect(()=>{r&&(r.role==="admin"?a("/admin"):r.role==="customer"&&a("/cart"))},[r]),e.jsx("div",{className:"h-screen flex justify-center items-center bg-gradient-to-r from-gray-900 via-gray-700 to-gray-900",children:e.jsx(j.div,{className:"card card-compact w-full max-w-md p-8 shadow-lg bg-white rounded-xl",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-3xl font-bold mb-6 text-center text-gray-800",children:"Login"}),e.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-6",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("input",{...s.getFieldProps("email"),type:"email",placeholder:"Enter Email",className:`input input-bordered w-full p-3 rounded-md border-gray-300 ${s.errors.email&&s.touched.email&&"border-red-500"}`}),s.errors.email&&s.touched.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.errors.email})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("input",{...s.getFieldProps("password"),type:"password",placeholder:"Enter Password",className:`input input-bordered w-full p-3 rounded-md border-gray-300 ${s.errors.password&&s.touched.password&&"border-red-500"}`}),s.errors.password&&s.touched.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.errors.password})]}),e.jsx("button",{disabled:n,type:"submit",className:"btn btn-primary w-full py-3 rounded-md text-white bg-blue-600 hover:bg-blue-700 transition",children:n?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"loading loading-spinner"}),e.jsx("span",{children:"Verifying, please wait..."})]}):"Login"}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx("button",{onClick:()=>a("/register"),className:"text-blue-600 hover:underline",children:"Register here"})]})})]})]})})})};export{N as default};
