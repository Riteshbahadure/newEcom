import{f as o,j as e,L as g,b as S,C as E,a as O,r as n,B as F,h as p}from"./index-b7d6f76e.js";import{R,F as A}from"./Footer-84fdcece.js";import{F as T}from"./index-702a978c.js";const L=()=>{const{cart:a}=o(c=>c.public);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex justify-between py-4 bg-slate-200 px-20 font-semibold",children:[e.jsxs("div",{className:"flex justify-between gap-6",children:[e.jsx("h1",{children:"SHOP"}),e.jsx("h1",{children:"Articles"}),e.jsx("h1",{children:"CHEF GUIDE"}),e.jsx("h1",{children:"LOCATION"}),e.jsx("h1",{children:"FAQS"}),e.jsx("h1",{children:"ABOUT"}),e.jsx("h1",{children:"CONTACT US"}),e.jsx("h1",{children:"CHEF DIRECTORY"}),e.jsx("h1",{children:"LOGIN/REGISTER"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("h1",{className:"-mt-1",children:"CART"}),e.jsxs(g,{to:"/cart",className:"indicator",children:[e.jsx("span",{className:"indicator-item badge badge-success text-black font-bold",children:a&&a.length}),e.jsx("p",{className:"text-black text-xl font-bold",children:e.jsx(R,{})})]})]})]})})},G=()=>{const a=S(),{user:c}=o(s=>s.auth),{cart:l}=o(s=>s.public),[N,{isSuccess:x}]=E(),r=O(),[m,f]=n.useState(""),[h,v]=n.useState(""),[u,w]=n.useState(""),y=()=>{const s=l.map(t=>t._id);N({products:s,customer:c._id,name:m,address:h,mobile:u})},[i,C]=n.useState(l.reduce((s,t)=>(s[t.id]=1,s),{})),j=(s,t)=>{C(b=>{const d={...b,[s]:b[s]+t};return d[s]<1&&(d[s]=1),d})},k=l.reduce((s,t)=>s+t.price*i[t.id],0);return n.useEffect(()=>{x&&(F.success("Order placed successfully"),r(p()),a("/success"))},[x,r,a]),!l||l.length===0?e.jsxs("div",{className:"h-screen flex flex-col justify-center items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Cart is Empty"}),e.jsx(g,{to:"/",className:"btn btn-primary",children:"Go to Shop"})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{}),e.jsx("div",{className:"container mx-auto my-10 px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white shadow-lg rounded-lg p-6",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Shopping Cart"}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{children:e.jsx("p",{className:"text-gray-500",children:"Delivering to 382480"})}),e.jsx("button",{onClick:()=>r(p()),className:"btn btn-danger",children:"Empty Cart"})]}),e.jsxs("div",{className:"alert alert-success mb-6",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"You've got FREE delivery. Start checkout now!"})]}),l.map(s=>e.jsxs("div",{className:"flex items-center justify-between mb-6 border-b pb-4 transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-lg",children:[e.jsx("img",{className:"w-20 h-20 object-cover rounded-lg shadow-md",src:`https://newecom-sdul.onrender.com/${s.image}`,alt:s.name}),e.jsxs("div",{className:"ml-4 flex-grow",children:[e.jsx("h1",{className:"font-bold text-lg",children:s.name}),e.jsx("p",{className:"text-gray-500",children:s.desc}),e.jsxs("button",{className:"flex items-center text-red-500 mt-2",onClick:()=>{},children:[e.jsx(T,{className:"mr-1"})," Remove"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>j(s.id,-1),className:"btn btn-outline mr-2",children:"-"}),e.jsx("span",{className:"mx-2",children:i[s.id]}),e.jsx("button",{onClick:()=>j(s.id,1),className:"btn btn-outline ml-2",children:"+"})]}),e.jsxs("div",{className:"font-bold text-xl",children:["$",s.price*i[s.id]]})]},s.id))]}),e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Order Summary"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Name"}),e.jsx("input",{type:"text",value:m,onChange:s=>f(s.target.value),className:"input input-bordered w-full"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Address"}),e.jsx("input",{type:"text",value:h,onChange:s=>v(s.target.value),className:"input input-bordered w-full"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Mobile"}),e.jsx("input",{type:"text",value:u,onChange:s=>w(s.target.value),className:"input input-bordered w-full"})]}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold mb-6",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["$",k.toFixed(2)]})]}),e.jsx("button",{onClick:y,className:"btn btn-primary w-full",children:"Buy Now"})]})]})}),e.jsx(A,{})]})};export{G as default};
