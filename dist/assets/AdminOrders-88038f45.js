import{E as g,u as j,t as N,r as x,j as e}from"./index-e19f1cc5.js";const y=()=>{const{data:r}=g(),{data:d}=j(),{data:c}=N(),[n,m]=x.useState(null),[a,o]=x.useState(null),h=t=>{const l=c==null?void 0:c.find(s=>s._id===t);m(l),document.getElementById("userDetailsModal").showModal()},u=t=>{const l=d==null?void 0:d.find(s=>s._id===t);o(l),document.getElementById("productDetailsModal").showModal()};return e.jsxs("div",{children:[e.jsx("div",{className:"p-6 bg-gray-100 min-h-screen",children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mobile"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Products"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r&&r.map(t=>{const l=c==null?void 0:c.find(s=>s._id===t.customer);return e.jsxs("tr",{className:"hover:bg-gray-50 transition duration-150 ease-in-out",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.name||"Unknown"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("button",{className:"btn",onClick:()=>h(t.customer),children:["View   ",(l==null?void 0:l.name)||"Deleted User"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.address}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.mobile}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.products.map(s=>{const i=d==null?void 0:d.find(p=>p._id===s);return i?e.jsx("div",{className:"flex gap-2 my-1",children:e.jsxs("button",{className:"btn btn-success",onClick:()=>u(s),children:["View: ",i.name]})},s):null})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.status})]},t._id.$oid)})})]})})})}),e.jsx("dialog",{id:"userDetailsModal",className:"modal modal-bottom sm:modal-middle",children:e.jsxs("div",{className:"modal-box bg-white shadow-lg rounded-lg p-6 sm:p-8",children:[n?e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex flex-col items-center my-4",children:[e.jsxs("h3",{className:"font-bold mt-1 text-lg sm:text-xl text-gray-700",children:["Customer Id: ",e.jsx("span",{className:"text-blue-600",children:n._id})]}),e.jsxs("h3",{className:"font-bold mt-1 text-lg sm:text-xl text-gray-700",children:["Name: ",e.jsx("span",{className:"text-blue-600",children:n.name})]}),e.jsxs("h3",{className:"font-bold mt-1 text-lg sm:text-xl text-gray-700",children:["Email: ",e.jsx("span",{className:"text-blue-600",children:n.email})]})]})}):e.jsx("p",{className:"text-red-500 text-center font-semibold",children:"Customer not found"}),e.jsx("div",{className:"modal-action flex justify-center mt-6",children:e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-all duration-300",children:"Close"})})})]})}),e.jsx("dialog",{id:"productDetailsModal",className:"modal modal-bottom sm:modal-middle",children:e.jsxs("div",{className:"modal-box bg-white shadow-lg rounded-lg p-6 sm:p-8",children:[a?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{className:"w-40 h-40 rounded-md object-cover object-center",src:`https://newecom-sdul.onrender.com/${a.image}`,alt:a.name}),e.jsxs("h3",{className:"font-bold mt-4 text-lg sm:text-xl text-gray-700",children:["Product Name: ",e.jsx("span",{className:"text-blue-600",children:a.name})]}),e.jsxs("h3",{className:"font-bold mt-1 text-lg sm:text-xl text-gray-700",children:["Price: ",e.jsxs("span",{className:"text-blue-600",children:["$",a.price]})]}),e.jsxs("h3",{className:"font-bold mt-1 text-lg sm:text-xl text-gray-700 text-center",children:["Description: ",e.jsx("span",{className:"text-blue-600 text-center",children:a.desc})]}),e.jsxs("h3",{className:"font-bold mt-1 text-lg sm:text-xl text-gray-700",children:["We have stock available of this product: ",e.jsx("span",{className:"text-blue-600",children:a.stock})]})]}):e.jsx("p",{className:"text-red-500 text-center font-semibold",children:"Product not found"}),e.jsx("div",{className:"modal-action flex justify-center mt-6",children:e.jsx("form",{method:"dialog",children:e.jsx("button",{className:"btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-all duration-300",children:"Close"})})})]})})]})};export{y as default};
